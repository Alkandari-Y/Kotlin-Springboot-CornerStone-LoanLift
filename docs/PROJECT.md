# README

# **Project Title: LoanLift ‚Äì Crowdfunded Investment Platform**

### **Concept Overview**

**LoanLift** is a backend API for a crowdfunded loan platform. Users can create or support business loan campaigns, earning monthly repayments with interest. The system enforces campaign approval, fee deduction, and automatic repayment handling.

**LoanLift** is a backend API that enables **users with bank accounts to collectively fund campaigns** that are structured as **loan requests**, not donations.
Each campaign is an **investment opportunity**, where contributors (lenders/pledgers) receive **monthly repayments with interest** from the campaign account.

**A bank representative must approve each campaign**, and **fees are charged monthly** to campaigns for processing.

---

## **Core Features (6+)**

1. **User Registration & Login**
2. **Campaign Creation and Management**
3. **Pledging to a Campaign (Investing)**
4. **Account management**
5. **Transaction history for contributions and refunds**
6. **Campaign success/failure logic + automatic fund handling**

---

üîë 1. Sample Environment Variables
Create a .env or sample.env in your project root with:

env
Copy
Edit
AWS_ACCESS_KEY=2TvTYzaOUEKwbRk5lavX
AWS_SECRET_KEY=aCYSH06qqoeTbryEL0o66ABq4e5iaegRIbUOvfp4
AWS_ENDPOINT=http://localhost:9000
AWS_REGION=us-east-1
AWS_BUCKET_PUBLIC=loanlift-public
AWS_BUCKET_PRIVATE=loanlift-private
üß† 3. Load .env in IntelliJ IDEA
Open IntelliJ IDEA

Go to Run > Edit Configurations...

Select your application configuration

Under "Environment variables", click the folder icon:

Click "Load variables from file"

Select your .env or sample.env

Apply and run the project

üåê 2. MinIO Setup via Browser
After launching Docker, set up MinIO:

Navigate to http://localhost:9001

Login with:

Username: minioadmin

Password: minioadmin

Create the following buckets:

loanlift-public

loanlift-private

These names must match your AWS_BUCKET_PUBLIC and AWS_BUCKET_PRIVATE env vars.

Go to "Access Keys":

Optionally generate your own key and secret if not using the one in .env

Copy and update .env accordingly

üß™ 3. Testing File Upload
After configuring your Spring Boot application to use S3 via MinIO:

Upload files using your API

Public files will be accessible at:
http://localhost:9000/loanlift-public/{key}

Private files will require pre-signed URLs generated by your backend

üìå Notes
Postgres will be available at jdbc:postgresql://localhost:8080/postgres

Mailhog shows email logs for features like campaign approval

MinIO is a drop-in replacement for AWS S3 (fully compatible)


---


üìÑ Campaign Monthly Repayment Documentation
Overview
Campaigns marked as FUNDED begin a monthly repayment process based on the total amount raised, the interest rate defined in the campaign, and the repayment duration. This service ensures that:

The campaign account is debited monthly.

A bank fee is deducted from each installment.

The remaining funds are distributed proportionally to all committed pledgers.

üí∞ Monthly Installment Calculation
For a funded campaign, the monthly installment is computed as follows:

1. Effective Principal
   We consider either the actual amount raised or the goal amount:

kotlin
Copy
Edit
val amount = campaign.amountRaised.takeIf { it > 0 } ?: campaign.goalAmount
2. Interest Amount
   kotlin
   Copy
   Edit
   val interest = amount * (interestRate / 100)
3. Monthly Installment (Total)
   kotlin
   Copy
   Edit
   val monthlyInstallment = (amount + interest) / repaymentMonths
   This is the total amount the campaign will pay each month.

üè¶ Bank Fee Deduction
A bank service fee of 0.2% is charged on every monthly installment:

kotlin
Copy
Edit
val bankFee = monthlyInstallment * 0.002
üì§ Distribution to Lenders
The remaining amount after the bank fee is proportionally distributed to pledgers based on their contribution:

kotlin
Copy
Edit
val distributable = monthlyInstallment - bankFee

val ratio = pledge.amount / totalPledged
val amountToDistribute = distributable * ratio
‚ö†Ô∏è Default Handling
If the campaign account balance is less than the required monthly installment, the campaign is automatically marked as DEFAULTED.

Example
Field	Value
Amount Raised	2,000.000
Interest Rate	2.00%
Repayment Months	120
Total Repayment	2,040.000
Monthly Installment	17.000
Bank Fee (0.2%)	0.034
Distributed to Lenders	16.966

Notes
All values are rounded to 3 decimal places using HALF_UP rounding.

This repayment logic is defined in the RepaymentService and executed periodically (e.g. monthly via scheduler or manual trigger).

Campaigns must have FUNDED status to qualify for repayments.


```
## ALlowed File Types

| File Type               | MIME Type                                                                 | Common Extensions |
| ----------------------- | ------------------------------------------------------------------------- | ----------------- |
| PDF Document            | `application/pdf`                                                         | `.pdf`            |
| JPEG Image              | `image/jpeg`                                                              | `.jpg`, `.jpeg`   |
| PNG Image               | `image/png`                                                               | `.png`            |
| Microsoft Word (legacy) | `application/msword`                                                      | `.doc`            |
| Microsoft Word (modern) | `application/vnd.openxmlformats-officedocument.wordprocessingml.document` | `.docx`           |
| Microsoft Excel         | `application/vnd.openxmlformats-officedocument.spreadsheetml.sheet`       | `.xlsx`           |
| Plain Text File         | `text/plain`                                                              | `.txt`            |
